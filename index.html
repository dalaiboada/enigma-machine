<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./estilos/main.css">

	<title>ENIGMA MACHINE M3 1934 XD</title>
</head>
<body>
	<main>
		<!-- Máquina -->
		<section class="maquina_contenedor">
			<h1>MÁQUINA ENIGMA M3 1934</h1>

			<!-- Rotores -->
			<section class="rotores_contenedor">
				<h2>Rotores XD</h2>

				<div class="rotores">
					<div class="rotor-contenedor">
						<div class="indicador-posicion"></div>

						<div class="rotor" id="rotor">
							<div class="circulo-centro">I</div>
							<!-- insertar con javascript -->
						</div>
					</div>

					<div class="rotor-contenedor">
						<div class="indicador-posicion"></div>

						<div class="rotor" id="rotor">
							<div class="circulo-centro">II</div>
							<!-- insertar con javascript -->
						</div>
					</div>

					<div class="rotor-contenedor">
						<div class="indicador-posicion"></div>

						<div class="rotor" id="rotor">
							<div class="circulo-centro">III</div>
							<!-- insertar con javascript -->
						</div>
					</div>
				</div>
			</section>
			
			<!-- Lampboard -->
			<section class="lampboard_contenedor">
				<h2>Lampboard</h2>

				<div class="lampboard" id="lampboard"></div>
			</section>

			<!-- Teclado -->
			<section class="teclado_contenedor">
				<div class="teclado">
					<div class="teclado-fila"></div>
					<div class="teclado-fila"></div>
					<div class="teclado-fila"></div>
				</div>
			</section>
			
			<!-- Plugboard -->
			<section class="plugboard_contenedor">
				<h2>Plugboard</h2>

				<div class="plugboard"></div>
			</section>
		</section>

		<!-- Panel de Usuario -->
		<section class="panel-usuario_contenedor">
			<h1>Mensajes Salida / Entrada</h1>
			
			<!-- Texto Plano -->
			<section class="texto-plano_contenedor">
				<svg viewBox="0 0 1000 700" style="width:100%; height:auto;">
					<polygon
						points=
						"25,50 600,50 650,0 950,0 1000,100 1000,400 950,450 
						950,600 900,650 600,650  550,700 150,700 75,650 75,350 25,300 25,100"
						style="stroke:#00ffff; stroke-width:5; fill:none;"
					/>
						
					<polygon
						points="250,25 600,25 625,0 275,0"
						style="stroke:#00ffff; stroke-width: 1; fill:#00ffff;"
					/>
				</svg>

				<div class="texto-plano">
					<p>>_ TEXTO PLANO</p>

					<p style="color: #ccc;" id="texto-plano"></p>
				</div>
			</section>

			<!-- Texto Cifrado -->
			<section class="contenedor-papel">
				<h2>Texto Cifrado</h2>

				<p class="texto-cifrado">
					Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quod.
					Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quod.
				</p>

				<button class="boton-papel">
          <div class="borde-irregular"></div>
          <div class="esquina-doblada esquina-superior-izq"></div>
          <div class="esquina-doblada esquina-inferior-der"></div>
          <div class="mancha mancha-1"></div>
          <div class="mancha mancha-2"></div>
          <span class="texto-boton">Enviar</span>
        </button>
			</section>

			<!-- Mapa de Cifrado -->
			<section class="mapa-cifrado_contenedor">
				<h2>Mapa de Cifrado</h2>
			</section>


			<!-- Buzón -->
			<section class="buzon_contenedor">
				<h2>Buzón</h2>
			</section>
		</section>

	</main>

	<script type="module" src="./scripts/renderizar-maquina.js"></script>

	<script>
		const $textoPlano = document.getElementById('texto-plano');

		document.addEventListener('keydown', event => {
			const tecla = event.key;
    	const textoActual = $textoPlano.innerText;
			
			switch (tecla) {
    		case 'Backspace': $textoPlano.innerText = textoActual.slice(0, -1); break;
    		case 'Enter': $textoPlano.innerText += '\n'; break;
    		case ' ': $textoPlano.innerText += ' '; break;

    		default:
					if (tecla.length === 1 && /^[a-zA-Z0-9.,!\-() ]$/.test(tecla)) 
						$textoPlano.innerText += tecla.toUpperCase();
      	break;
			}
		});
	</script>
</body>
</html>
